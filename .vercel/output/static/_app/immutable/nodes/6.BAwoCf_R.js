import{s as E,n as x,a as H}from"../chunks/scheduler.C6UnpWtt.js";import{S as q,i as z,e as h,s as y,c as _,z as I,f as w,a as v,d as f,m as u,g as b,n as P,H as $,o as A,h as g}from"../chunks/index.C08rKovH.js";import{e as j}from"../chunks/each.BhP_wiSw.js";async function D({fetch:r}){return{data:await(await r("/api/newreleases")).json()}}const L=Object.freeze(Object.defineProperty({__proto__:null,load:D},Symbol.toStringTag,{value:"Module"}));function k(r,a,n){const s=r.slice();return s[3]=a[n],s}function C(r){let a,n,s,i,o,e,t,c=r[3].title+"",l;return{c(){a=h("a"),n=h("div"),s=h("img"),o=y(),e=h("span"),t=new $(!1),l=y(),this.h()},l(d){a=_(d,"A",{class:!0,href:!0});var m=v(a);n=_(m,"DIV",{class:!0});var p=v(n);s=_(p,"IMG",{class:!0,loading:!0,src:!0,alt:!0}),o=w(p),e=_(p,"SPAN",{class:!0});var S=v(e);t=A(S,!1),S.forEach(f),p.forEach(f),l=w(m),m.forEach(f),this.h()},h(){u(s,"class","rounded aspect-square object-cover"),u(s,"loading","lazy"),H(s.src,i=r[3].image)||u(s,"src",i),u(s,"alt",r[3].title),t.a=null,u(e,"class","truncate text-xs font-bold"),u(n,"class","iteminner flex flex-col hover gap-2"),u(a,"class","item"),u(a,"href",r[1](r[3].type,r[3].id))},m(d,m){b(d,a,m),g(a,n),g(n,s),g(n,o),g(n,e),t.m(c,e),g(a,l)},p:x,d(d){d&&f(a)}}}function M(r){let a,n="new releases",s,i,o=j(r[0]),e=[];for(let t=0;t<o.length;t+=1)e[t]=C(k(r,o,t));return{c(){a=h("h1"),a.textContent=n,s=y(),i=h("div");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){a=_(t,"H1",{class:!0,"data-svelte-h":!0}),I(a)!=="svelte-1xxpd4r"&&(a.textContent=n),s=w(t),i=_(t,"DIV",{class:!0});var c=v(i);for(let l=0;l<e.length;l+=1)e[l].l(c);c.forEach(f),this.h()},h(){u(a,"class","font-bold text-3xl"),u(i,"class","grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 mt-2 gap-2")},m(t,c){b(t,a,c),b(t,s,c),b(t,i,c);for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(i,null)},p(t,[c]){if(c&3){o=j(t[0]);let l;for(l=0;l<o.length;l+=1){const d=k(t,o,l);e[l]?e[l].p(d,c):(e[l]=C(d),e[l].c(),e[l].m(i,null))}for(;l<e.length;l+=1)e[l].d(1);e.length=o.length}},i:x,o:x,d(t){t&&(f(a),f(s),f(i)),P(e,t)}}}function O(r,a,n){let{data:s}=a,i=s.data;const o=(e,t)=>{if(e==="album")return`/album/${t}`;if(e==="playlist")return`/playlist/${t}`;if(e==="song")return`song/${t}`};return r.$$set=e=>{"data"in e&&n(2,s=e.data)},[i,o,s]}class N extends q{constructor(a){super(),z(this,a,O,M,E,{data:2})}}export{N as component,L as universal};
